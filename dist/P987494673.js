Ada.unpack({"P120424396":{"hash":"f550651d","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _dec,_dec2,_class,_class2,_descriptor,_adajs=require(\"adajs\"),_simpleform=_interopRequireDefault(require(\"form/simpleform.js\")),_form=_interopRequireDefault(require(\"form/datasets/form.js\")),_input=_interopRequireDefault(require(\"form/input.js\")),_textarea=_interopRequireDefault(require(\"form/textarea.js\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _initializerDefineProperty(e,r,i,t){i&&Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:!0,value:i.initializer?i.initializer.call(t):void 0})}function _applyDecoratedDescriptor(e,r,i,t,a){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,r,o),o=null),o}function _initializerWarningHelper(e,r){throw new Error(\"Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.\")}let Root=(_dec=(0,_adajs.root)(),_dec2=(0,_adajs.dataset)(_form.default),_dec((_descriptor=_applyDecoratedDescriptor((_class2=class extends _adajs.StaticViewGroup{constructor(...e){var r;return r=super(...e),_initializerDefineProperty(this,\"formDataSet\",_descriptor,this),r}oncreated(){this.addChild(_simpleform.default).then(()=>{this.formDataSet.commit(\"set\",[{type:_input.default,name:\"aa\",value:\"aa\",label:\"aa\",required:!0},{type:_textarea.default,name:\"cc\",value:\"cc\",label:\"cc\"}])})}}).prototype,\"formDataSet\",[_dec2],{enumerable:!0,initializer:null}),_class=_class2))||_class);var _default=Root;exports.default=_default;"},"P712013430":{"hash":"8823e2e9","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _dec,_dec2,_class,_adajs=require(\"adajs\");function _applyDecoratedDescriptor(e,t,r,a,i){var s={};return Object.keys(a).forEach(function(e){s[e]=a[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,(\"value\"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let FormService=(_dec=(0,_adajs.action)(\"setvalue\"),_dec2=(0,_adajs.action)(\"set\"),_applyDecoratedDescriptor((_class=class extends _adajs.Service{defaultData(){return{fields:[]}}setValue(e,t){return e.fields.filter(e=>e.name===t.name).forEach(e=>e.value=t.value),e}set(e,t){return{fields:t}}}).prototype,\"setValue\",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,\"setValue\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"set\",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,\"set\"),_class.prototype),_class);var _default=FormService;exports.default=_default;"},"P66471640":{"hash":"a2317cf8","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _dec,_dec2,_dec3,_class,_class2,_descriptor,_adajs=require(\"adajs\"),_base=require(\"form/base.js\"),_form=_interopRequireDefault(require(\"form/datasets/form.js\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _initializerDefineProperty(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:!0,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor(e,t,r,i,a){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,(\"value\"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}function _initializerWarningHelper(e,t){throw new Error(\"Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.\")}let Input=(_dec=(0,_adajs.view)({className:\"forminput\",template:\"form/template/input.html\",style:\"form/style/input.scss\",module:\"form/input.js\"}),_dec2=(0,_adajs.refer)(_form.default),_dec3=(0,_adajs.binder)(\"keyup\"),_dec((_descriptor=_applyDecoratedDescriptor((_class2=class extends _base.Field{constructor(...e){var t;return t=super(...e),_initializerDefineProperty(this,\"formDataSet\",_descriptor,this),t}defaultOption(){return{label:\"text\",name:\"text\",textType:\"text\",value:\"value\",placeholder:\"\",required:!1,validate:{min:0,max:100,reg:\".*\"},iserror:!1,errormsg:\"\"}}onupdate(e){return e.isOption()?(e.option.equals(this.option)||(this.option=e.option.get()),console.log(this.getFieldName(),\"==> parent\")):console.log(this.getFieldName(),\"==> service\"),!0}keyUp({e:e}){this.state.value=e.target.value,this.check(),this.setValue(this.state.value)}setValue(e){return this.formDataSet.commit(\"setvalue\",{name:this.getFieldName(),value:e}),this}getValue(){return this.state.value}check(){let e=this.getValue(),t=!0;if(this.state.required&&0===e.length&&(t=!1,this.state.errormsg=\"field can not empty\"),t){new RegExp(this.state.validate.reg).test(e)?e.length>=this.state.validate.min&&e.length<=this.state.validate.max||(t=!1,this.state.errormsg=`length between ${this.state.validate.min} and ${this.state.validate.max}`):(t=!1,this.state.errormsg=\"reg error\")}return t?(this.state.iserror=!1,this.state.errormsg=\"\"):this.state.iserror=!0,t}}).prototype,\"formDataSet\",[_dec2],{enumerable:!0,initializer:null}),_applyDecoratedDescriptor(_class2.prototype,\"keyUp\",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,\"keyUp\"),_class2.prototype),_class=_class2))||_class);var _default=Input;exports.default=_default;"},"P1718020665":{"hash":"1ebb98c7","code":"{{if label}}<div class=\"label\">{{ label }}</div>{{/if}}<div class=\"field\"><input type=\"{{ textType }}\" value=\"{{ value }}\" placeholder=\"{{ placeholder }}\" onkeyup=\"{{ keyup() }}\"/></div>{{if iserror}}<div class=\"error\">{{ errormsg }}</div>{{/if}}"},"P2008270021":{"hash":"d3a752cd","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.mixField=exports.mixForm=exports.BondForm=exports.Form=exports.BondFieldGroup=exports.FieldGroup=exports.Field=void 0;var _adajs=require(\"adajs\"),_form=_interopRequireDefault(require(\"form/datasets/form.js\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _initializerDefineProperty(e,r,i,t){i&&Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:!0,value:i.initializer?i.initializer.call(t):void 0})}function _applyDecoratedDescriptor(e,r,i,t,l){var s={};return Object.keys(t).forEach(function(e){s[e]=t[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,(\"value\"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},s),l&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,r,s),s=null),s}function _initializerWarningHelper(e,r){throw new Error(\"Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.\")}let mixField=e=>(class extends e{defaultOption(){return{name:\"\",label:\"\"}}getFieldName(){return this.state.name}getValue(){return\"\"}setValue(){return this}disabled(){return this}undisabled(){return this}check(){return!0}onchange(e){this.state=Object.assign(this.state||{},e),this.render()}fieldable(){return!0}});exports.mixField=mixField;let mixForm=e=>{var r,i,t;return r=(0,_adajs.pipe)(_form.default),t=_applyDecoratedDescriptor((i=class extends e{constructor(...e){var r;return r=super(...e),_initializerDefineProperty(this,\"formDataSet\",t,this),r}getAllFields(){return this.getChildren().filter(e=>e.fieldable&&e.fieldable())}getFieldsByName(e){return this.getAllFields().filter(r=>r.getFieldName()===e)}getFieldByName(e){return this.getFieldsByName()[0]}getValue(){return this.getAllFields().reduce((e,r)=>e.then(e=>{let i=r.getValue();return i.then?i.then(i=>(Object.assign(e,{[r.getFieldName()]:i}),e)):(Object.assign(e,{[r.getFieldName()]:i}),Promise.resolve(e))}),Promise.resolve({}))}setValue(e,r){return this.formDataSet.commit(\"setvalue\",{name:e,value:r})}check(){return this.getAllFields().reduce((e,r)=>e.then(e=>{if(e){let e=r.check();return e.then?e:Promise.resolve(e)}return Promise.resolve(!1)}),Promise.resolve(!0))}disabled(){this.getAllFields().forEach(e=>e.disabled())}undisabled(){this.getAllFields().forEach(e=>e.undisabled())}formable(){return!0}}).prototype,\"formDataSet\",[r],{enumerable:!0,initializer:null}),i};exports.mixForm=mixForm;class Field extends(mixField(_adajs.View)){}exports.Field=Field;class FieldGroup extends(mixField(_adajs.ViewGroup)){}exports.FieldGroup=FieldGroup;class BondFieldGroup extends(mixField(_adajs.BondViewGroup)){}exports.BondFieldGroup=BondFieldGroup;class Form extends(mixForm(_adajs.ViewGroup)){}exports.Form=Form;class BondForm extends(mixForm(_adajs.BondViewGroup)){}exports.BondForm=BondForm;"},"P1486931619":{"hash":"d41d8cd9","code":""},"P1802408630":{"hash":"1872f9c4","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _dec,_dec2,_class,_class2,_descriptor,_adajs=require(\"adajs\"),_base=require(\"form/base.js\"),_form=_interopRequireDefault(require(\"form/datasets/form.js\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _initializerDefineProperty(e,r,i,t){i&&Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:!0,value:i.initializer?i.initializer.call(t):void 0})}function _applyDecoratedDescriptor(e,r,i,t,a){var l={};return Object.keys(t).forEach(function(e){l[e]=t[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,(\"value\"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,r,l),l=null),l}function _initializerWarningHelper(e,r){throw new Error(\"Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.\")}let SimpleForm=(_dec=(0,_adajs.view)({className:\"simpleform\",template:\"form/template/simpleform.html\",style:\"form/style/simpleform.scss\",module:\"form/simpleform.js\"}),_dec2=(0,_adajs.refer)(_form.default),_dec((_descriptor=_applyDecoratedDescriptor((_class2=class extends _base.Form{constructor(...e){var r;return r=super(...e),_initializerDefineProperty(this,\"formDataSet\",_descriptor,this),r}}).prototype,\"formDataSet\",[_dec2],{enumerable:!0,initializer:null}),_class=_class2))||_class);var _default=SimpleForm;exports.default=_default;"},"P830190713":{"hash":"65538a2e","code":"<div>    {{list fields as field}}    <div class=\"field\"><@module @type=\"{{ field.type }}\" @option=\"{{ field }}\"/></div>    {{/list}}</div>"},"P360440511":{"hash":"d41d8cd9","code":""},"P1599839310":{"hash":"be44f6c5","code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var _dec,_class,_adajs=require(\"adajs\"),_input=_interopRequireDefault(require(\"form/input.js\"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let Textarea=(_dec=(0,_adajs.view)({className:\"formtext\",template:\"form/template/textarea.html\",style:\"form/style/textarea.scss\",module:\"form/textarea.js\"}))(_class=class extends _input.default{})||_class;var _default=Textarea;exports.default=_default;"},"P599157429":{"hash":"6eaf9baa","code":"{{if label}}<div class=\"label\">{{ label }}</div>{{/if}}<div class=\"field\"><textarea type=\"{{ textType }}\" placeholder=\"{{ placeholder }}\" onkeyup=\"{{ keyup() }}\">{{ value }}</textarea></div>"},"P1702693573":{"hash":"d41d8cd9","code":""}})